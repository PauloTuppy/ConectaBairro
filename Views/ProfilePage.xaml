<?xml version="1.0" encoding="utf-8"?>
<Page x:Class="ConectaBairro.Views.ProfilePage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      mc:Ignorable="d"
      Background="#F0F4F8">

    <Grid RowDefinitions="Auto,*,Auto">
        
        <!-- HEADER -->
        <Border Grid.Row="0" Padding="20,40,20,24" CornerRadius="0,0,24,24">
            <Border.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                    <GradientStop Color="#1E3A5F" Offset="0.0"/>
                    <GradientStop Color="#2E5077" Offset="0.5"/>
                    <GradientStop Color="#4A7C9B" Offset="1.0"/>
                </LinearGradientBrush>
            </Border.Background>
            
            <StackPanel Spacing="16">
                <!-- Top Bar -->
                <Grid ColumnDefinitions="Auto,*,Auto">
                    <Button Grid.Column="0" Click="GoBack" Background="Transparent" BorderThickness="0" Padding="8">
                        <TextBlock Text="â† Voltar" FontSize="14" Foreground="White"/>
                    </Button>
                    <TextBlock Grid.Column="1" Text="Meu Perfil" FontSize="18" FontWeight="SemiBold" Foreground="White" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    <Button Grid.Column="2" Click="NavigateToNotifications" Background="Transparent" BorderThickness="0" Padding="8">
                        <TextBlock Text="ðŸ””" FontSize="20"/>
                    </Button>
                </Grid>
                
                <!-- Avatar e Info -->
                <StackPanel HorizontalAlignment="Center" Spacing="8">
                    <Border Width="80" Height="80" CornerRadius="40" BorderBrush="#60A5FA" BorderThickness="3">
                        <Border CornerRadius="37" Background="#3B82F6">
                            <TextBlock x:Name="AvatarInitials" Text="PS" FontSize="28" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </Border>
                    <TextBlock x:Name="UserNameText" Text="Paulo Silva" FontSize="20" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center"/>
                    <TextBlock x:Name="UserEmailText" Text="ðŸ“ Vila Mariana, SÃ£o Paulo" FontSize="13" Foreground="#94A3B8" HorizontalAlignment="Center"/>
                    <!-- Provider Badge -->
                    <Border x:Name="ProviderBadge" Background="#10B981" CornerRadius="8" Padding="8,4" HorizontalAlignment="Center" Visibility="Collapsed">
                        <TextBlock x:Name="ProviderText" Text="Google" FontSize="11" Foreground="White" FontWeight="SemiBold"/>
                    </Border>
                    
                    <!-- Badge de NÃ­vel -->
                    <Border Background="#F59E0B" CornerRadius="12" Padding="12,6" HorizontalAlignment="Center">
                        <TextBlock Text="â­ NÃ­vel 5 - Explorador" FontSize="12" Foreground="White" FontWeight="SemiBold"/>
                    </Border>
                </StackPanel>

                <!-- Stats Row -->
                <Grid ColumnDefinitions="*,*,*" Margin="0,8,0,0">
                    <StackPanel Grid.Column="0" HorizontalAlignment="Center" Spacing="2">
                        <TextBlock Text="450" FontSize="22" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center"/>
                        <TextBlock Text="XP" FontSize="11" Foreground="#94A3B8" HorizontalAlignment="Center"/>
                    </StackPanel>
                    <StackPanel Grid.Column="1" HorizontalAlignment="Center" Spacing="2">
                        <TextBlock Text="2" FontSize="22" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center"/>
                        <TextBlock Text="Cursos" FontSize="11" Foreground="#94A3B8" HorizontalAlignment="Center"/>
                    </StackPanel>
                    <StackPanel Grid.Column="2" HorizontalAlignment="Center" Spacing="2">
                        <TextBlock Text="2/6" FontSize="22" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center"/>
                        <TextBlock Text="Badges" FontSize="11" Foreground="#94A3B8" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Grid>
            </StackPanel>
        </Border>

        <!-- CONTEÃšDO -->
        <ScrollViewer Grid.Row="1" Padding="16,16,16,8">
            <StackPanel Spacing="12">

                <!-- Progresso XP -->
                <Border Background="White" CornerRadius="16" Padding="16">
                    <StackPanel Spacing="8">
                        <Grid ColumnDefinitions="*,Auto">
                            <TextBlock Text="Progresso para NÃ­vel 6" FontSize="14" FontWeight="SemiBold" Foreground="#1F2937"/>
                            <TextBlock Grid.Column="1" Text="75%" FontSize="14" FontWeight="Bold" Foreground="#3B82F6"/>
                        </Grid>
                        <Border Background="#E2E8F0" CornerRadius="6" Height="10">
                            <Border Background="#3B82F6" CornerRadius="6" HorizontalAlignment="Left" Width="200"/>
                        </Border>
                        <TextBlock Text="450/600 XP - Faltam 150 XP" FontSize="12" Foreground="#6B7280"/>
                    </StackPanel>
                </Border>

                <!-- Atividades Recentes -->
                <TextBlock Text="Atividades Recentes" FontSize="16" FontWeight="Bold" Foreground="#1F2937"/>
                
                <Border Background="White" CornerRadius="12" Padding="12">
                    <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="10">
                        <Border Width="40" Height="40" CornerRadius="20" Background="#DCFCE7">
                            <TextBlock Text="âœ“" FontSize="18" Foreground="#166534" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                            <TextBlock Text="Completou mÃ³dulo de InformÃ¡tica" FontSize="13" FontWeight="SemiBold" Foreground="#1F2937"/>
                            <TextBlock Text="Hoje, 14:30" FontSize="11" Foreground="#9CA3AF"/>
                        </StackPanel>
                        <TextBlock Grid.Column="2" Text="+50 XP" FontSize="13" FontWeight="Bold" Foreground="#10B981" VerticalAlignment="Center"/>
                    </Grid>
                </Border>

                <Border Background="White" CornerRadius="12" Padding="12">
                    <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="10">
                        <Border Width="40" Height="40" CornerRadius="20" Background="#FEF3C7">
                            <TextBlock Text="ðŸ†" FontSize="18" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                            <TextBlock Text="Desbloqueou badge Mestre do Tempo" FontSize="13" FontWeight="SemiBold" Foreground="#1F2937"/>
                            <TextBlock Text="Ontem, 10:15" FontSize="11" Foreground="#9CA3AF"/>
                        </StackPanel>
                        <TextBlock Grid.Column="2" Text="+75 XP" FontSize="13" FontWeight="Bold" Foreground="#F59E0B" VerticalAlignment="Center"/>
                    </Grid>
                </Border>

                <!-- Meu Curso -->
                <TextBlock Text="Meu Curso Atual" FontSize="16" FontWeight="Bold" Foreground="#1F2937" Margin="0,4,0,0"/>
                
                <Border Background="White" CornerRadius="12" Padding="14">
                    <StackPanel Spacing="10">
                        <Grid ColumnDefinitions="Auto,*" ColumnSpacing="10">
                            <Border Width="44" Height="44" CornerRadius="10" Background="#DBEAFE">
                                <TextBlock Text="ðŸ’»" FontSize="20" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                <TextBlock Text="Operador de Computador" FontSize="14" FontWeight="SemiBold" Foreground="#1F2937"/>
                                <TextBlock Text="SENAC - Em andamento" FontSize="12" Foreground="#6B7280"/>
                            </StackPanel>
                        </Grid>
                        <Border Background="#E2E8F0" CornerRadius="4" Height="6">
                            <Border Background="#3B82F6" CornerRadius="4" HorizontalAlignment="Left" Width="160"/>
                        </Border>
                        <TextBlock Text="60% concluÃ­do - 2 mÃ³dulos restantes" FontSize="11" Foreground="#6B7280"/>
                    </StackPanel>
                </Border>

                <!-- Menu -->
                <TextBlock Text="ConfiguraÃ§Ãµes" FontSize="16" FontWeight="Bold" Foreground="#1F2937" Margin="0,4,0,0"/>
                
                <Button Click="NavigateToMessages" HorizontalAlignment="Stretch" Background="White" CornerRadius="12" Padding="14">
                    <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="10">
                        <Border Width="40" Height="40" CornerRadius="10" Background="#DCFCE7">
                            <TextBlock Text="ðŸ’¬" FontSize="18" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                            <TextBlock Text="Mensagens" FontSize="14" FontWeight="SemiBold" Foreground="#1F2937"/>
                            <TextBlock Text="Conversas com a comunidade" FontSize="12" Foreground="#6B7280"/>
                        </StackPanel>
                        <Border Grid.Column="2" Width="22" Height="22" CornerRadius="11" Background="#EF4444" VerticalAlignment="Center">
                            <TextBlock Text="2" FontSize="11" Foreground="White" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </Grid>
                </Button>

                <Border Background="White" CornerRadius="12" Padding="14">
                    <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="10">
                        <Border Width="40" Height="40" CornerRadius="10" Background="#DBEAFE">
                            <TextBlock Text="ðŸ‘¤" FontSize="18" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                            <TextBlock Text="Dados Pessoais" FontSize="14" FontWeight="SemiBold" Foreground="#1F2937"/>
                            <TextBlock Text="Nome, idade, localizaÃ§Ã£o" FontSize="12" Foreground="#6B7280"/>
                        </StackPanel>
                        <TextBlock Grid.Column="2" Text="â†’" FontSize="18" Foreground="#CBD5E1" VerticalAlignment="Center"/>
                    </Grid>
                </Border>

                <Border Background="White" CornerRadius="12" Padding="14">
                    <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="10">
                        <Border Width="40" Height="40" CornerRadius="10" Background="#E0E7FF">
                            <TextBlock Text="â“" FontSize="18" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                            <TextBlock Text="Ajuda e Suporte" FontSize="14" FontWeight="SemiBold" Foreground="#1F2937"/>
                            <TextBlock Text="FAQ e contato" FontSize="12" Foreground="#6B7280"/>
                        </StackPanel>
                        <TextBlock Grid.Column="2" Text="â†’" FontSize="18" Foreground="#CBD5E1" VerticalAlignment="Center"/>
                    </Grid>
                </Border>

                <!-- Editar Perfil -->
                <Button Click="EditProfile_Click" HorizontalAlignment="Stretch" Background="#3B82F6" CornerRadius="12" Padding="14">
                    <StackPanel Orientation="Horizontal" Spacing="8" HorizontalAlignment="Center">
                        <TextBlock Text="âœï¸" FontSize="18"/>
                        <TextBlock Text="Editar Meu Perfil" FontSize="14" FontWeight="SemiBold" Foreground="White"/>
                    </StackPanel>
                </Button>

                <!-- Alertas ao Vivo -->
                <TextBlock Text="ðŸ”´ Alertas ao Vivo" FontSize="16" FontWeight="Bold" Foreground="#EF4444" Margin="0,8,0,0"/>
                
                <Border Background="#FEF2F2" CornerRadius="12" Padding="14" BorderBrush="#FECACA" BorderThickness="2">
                    <Grid ColumnDefinitions="Auto,*" ColumnSpacing="10">
                        <Border Width="12" Height="12" CornerRadius="6" Background="#EF4444" VerticalAlignment="Center">
                            <!-- Pulsing indicator -->
                        </Border>
                        <StackPanel Grid.Column="1">
                            <TextBlock Text="ðŸš° Falta d'Ã¡gua programada" FontSize="13" FontWeight="SemiBold" Foreground="#991B1B"/>
                            <TextBlock Text="Rua das Flores, 14h-18h â€¢ hÃ¡ 2h" FontSize="11" Foreground="#DC2626"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <Border Background="#FEF3C7" CornerRadius="12" Padding="14" BorderBrush="#FDE68A" BorderThickness="2">
                    <Grid ColumnDefinitions="Auto,*" ColumnSpacing="10">
                        <Border Width="12" Height="12" CornerRadius="6" Background="#F59E0B" VerticalAlignment="Center"/>
                        <StackPanel Grid.Column="1">
                            <TextBlock Text="ðŸ“¢ 50 vagas SENAI ProgramaÃ§Ã£o" FontSize="13" FontWeight="SemiBold" Foreground="#92400E"/>
                            <TextBlock Text="InscriÃ§Ãµes atÃ© sexta! â€¢ hÃ¡ 1 dia" FontSize="11" Foreground="#B45309"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- Logout -->
                <Button x:Name="LogoutButton" Click="Logout_Click" HorizontalAlignment="Stretch" Background="#FEE2E2" CornerRadius="12" Padding="14" Margin="0,8,0,0" BorderThickness="0">
                    <Grid ColumnDefinitions="Auto,*" ColumnSpacing="10">
                        <Border Width="40" Height="40" CornerRadius="10" Background="#FECACA">
                            <TextBlock Text="ðŸšª" FontSize="18" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <TextBlock Grid.Column="1" Text="Sair da Conta" FontSize="14" FontWeight="SemiBold" Foreground="#DC2626" VerticalAlignment="Center"/>
                    </Grid>
                </Button>

            </StackPanel>
        </ScrollViewer>

        <!-- BOTTOM NAV -->
        <Border Grid.Row="2" Background="White" CornerRadius="24,24,0,0" Padding="8,12,8,8">
            <Grid ColumnDefinitions="*,*,*,*,*" Height="56">
                <Button Grid.Column="0" Click="NavigateToHome" Background="Transparent" BorderThickness="0">
                    <StackPanel Spacing="2" HorizontalAlignment="Center">
                        <TextBlock Text="ðŸ " FontSize="22" HorizontalAlignment="Center"/>
                        <TextBlock Text="Home" FontSize="10" Foreground="#9CA3AF" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Button>
                <Button Grid.Column="1" Click="NavigateToCourses" Background="Transparent" BorderThickness="0">
                    <StackPanel Spacing="2" HorizontalAlignment="Center">
                        <TextBlock Text="ðŸ“š" FontSize="22" HorizontalAlignment="Center"/>
                        <TextBlock Text="Cursos" FontSize="10" Foreground="#9CA3AF" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Button>
                <Button Grid.Column="2" Click="NavigateToMap" Background="Transparent" BorderThickness="0">
                    <StackPanel Spacing="2" HorizontalAlignment="Center">
                        <TextBlock Text="ðŸ“" FontSize="22" HorizontalAlignment="Center"/>
                        <TextBlock Text="Mapa" FontSize="10" Foreground="#9CA3AF" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Button>
                <Button Grid.Column="3" Click="NavigateToBadges" Background="Transparent" BorderThickness="0">
                    <StackPanel Spacing="2" HorizontalAlignment="Center">
                        <TextBlock Text="ðŸ†" FontSize="22" HorizontalAlignment="Center"/>
                        <TextBlock Text="Badges" FontSize="10" Foreground="#9CA3AF" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Button>
                <Button Grid.Column="4" Background="Transparent" BorderThickness="0">
                    <Border Background="#1E3A5F" CornerRadius="16" Padding="14,8">
                        <StackPanel Orientation="Horizontal" Spacing="6">
                            <TextBlock Text="ðŸ‘¤" FontSize="18"/>
                            <TextBlock Text="Perfil" FontSize="12" Foreground="White" FontWeight="Bold" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Border>
                </Button>
            </Grid>
        </Border>
    </Grid>
</Page>
