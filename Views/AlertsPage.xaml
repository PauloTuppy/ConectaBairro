<?xml version="1.0" encoding="utf-8" ?>
<Page
    x:Class="ConectaBairro.Views.AlertsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:models="using:ConectaBairro.Models"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="{StaticResource HeaderGradientBrush}" Padding="20">
            <TextBlock Text="ðŸ”” Alertas da Comunidade" 
                       FontSize="24" 
                       FontWeight="Bold" 
                       Foreground="White"/>
        </Border>

        <!-- Alerts List -->
        <ScrollViewer Grid.Row="1" Padding="16">
            <ItemsRepeater ItemsSource="{x:Bind ViewModel.Alerts, Mode=OneWay}">
                <ItemsRepeater.ItemTemplate>
                    <DataTemplate x:DataType="models:Alert">
                        <Border Background="White" 
                                CornerRadius="12" 
                                Padding="16" 
                                Margin="0,0,0,12"
                                BorderThickness="2">
                            <Border.BorderBrush>
                                <SolidColorBrush Color="{x:Bind Type, Converter={StaticResource AlertTypeToColorConverter}}"/>
                            </Border.BorderBrush>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <!-- Icon -->
                                <TextBlock Grid.Column="0" 
                                           FontSize="32" 
                                           VerticalAlignment="Center"
                                           Margin="0,0,16,0">
                                    <Run Text="{x:Bind Type, Converter={StaticResource AlertTypeToIconConverter}}"/>
                                </TextBlock>

                                <!-- Content -->
                                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                    <TextBlock Text="{x:Bind Title}" 
                                               FontSize="18" 
                                               FontWeight="SemiBold">
                                        <TextBlock.Foreground>
                                            <SolidColorBrush Color="{x:Bind Type, Converter={StaticResource AlertTypeToColorConverter}}"/>
                                        </TextBlock.Foreground>
                                    </TextBlock>
                                    <TextBlock Text="{x:Bind Message}" 
                                               FontSize="14" 
                                               Foreground="#666666"
                                               TextWrapping="Wrap"
                                               Margin="0,4,0,0"/>
                                    <TextBlock Text="{x:Bind Location}" 
                                               FontSize="12" 
                                               Foreground="#999999"
                                               Margin="0,4,0,0"/>
                                </StackPanel>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ItemsRepeater.ItemTemplate>
            </ItemsRepeater>
        </ScrollViewer>
    </Grid>
</Page>
