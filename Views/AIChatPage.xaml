<?xml version="1.0" encoding="utf-8"?>
<Page x:Class="ConectaBairro.Views.AIChatPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Background="#F0F4F8">

    <Grid RowDefinitions="Auto,*,Auto">
        
        <!-- HEADER -->
        <Border Grid.Row="0" Padding="16,40,16,16" Background="#6366F1">
            <Grid ColumnDefinitions="Auto,*,Auto">
                <Button Grid.Column="0" Click="Back_Click" Background="Transparent" BorderThickness="0" Padding="8">
                    <TextBlock Text="â†" FontSize="24" Foreground="White"/>
                </Button>
                <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="12,0">
                    <TextBlock Text="ðŸ¤– AI Assistant" FontSize="20" FontWeight="Bold" Foreground="White"/>
                    <TextBlock x:Name="StatusText" Text="Online â€¢ Ready to help" FontSize="12" Foreground="#C7D2FE"/>
                </StackPanel>
                <Button Grid.Column="2" Click="ClearChat_Click" Background="Transparent" BorderThickness="0" Padding="8">
                    <TextBlock Text="ðŸ—‘ï¸" FontSize="18"/>
                </Button>
            </Grid>
        </Border>

        <!-- CHAT MESSAGES -->
        <ScrollViewer x:Name="ChatScrollViewer" Grid.Row="1" Padding="16">
            <StackPanel x:Name="MessagesPanel" Spacing="12">
                
                <!-- Welcome Message -->
                <Border Background="White" CornerRadius="16,16,16,4" Padding="14" MaxWidth="320" HorizontalAlignment="Left">
                    <StackPanel Spacing="8">
                        <Grid ColumnDefinitions="Auto,*">
                            <Border Width="32" Height="32" CornerRadius="16" Background="#EEF2FF">
                                <TextBlock Text="ðŸ¤–" FontSize="16" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <TextBlock Grid.Column="1" Text="AI Assistant" FontSize="12" FontWeight="SemiBold" Foreground="#6366F1" VerticalAlignment="Center" Margin="8,0,0,0"/>
                        </Grid>
                        <TextBlock Text="Hello! ðŸ‘‹ I'm your AI assistant. I can help you with:" FontSize="14" Foreground="#1F2937" TextWrapping="Wrap"/>
                        <TextBlock Text="â€¢ Finding courses and programs
â€¢ Using app features
â€¢ Information about social services
â€¢ Job search tips" FontSize="13" Foreground="#4B5563" TextWrapping="Wrap"/>
                        <TextBlock Text="What would you like to know?" FontSize="14" Foreground="#1F2937" TextWrapping="Wrap"/>
                    </StackPanel>
                </Border>

                <!-- Suggestions -->
                <TextBlock Text="Quick questions:" FontSize="12" Foreground="#6B7280" Margin="0,8,0,4"/>
                <StackPanel x:Name="SuggestionsPanel" Spacing="8">
                    <Button Click="Suggestion_Click" Tag="How do I find courses near me?" HorizontalAlignment="Left" Background="#EEF2FF" CornerRadius="12" Padding="12,8" BorderThickness="0">
                        <TextBlock Text="ðŸ“š How do I find courses?" FontSize="13" Foreground="#4F46E5"/>
                    </Button>
                    <Button Click="Suggestion_Click" Tag="How do badges and XP work?" HorizontalAlignment="Left" Background="#EEF2FF" CornerRadius="12" Padding="12,8" BorderThickness="0">
                        <TextBlock Text="ðŸ† How do badges work?" FontSize="13" Foreground="#4F46E5"/>
                    </Button>
                    <Button Click="Suggestion_Click" Tag="What social services are available?" HorizontalAlignment="Left" Background="#EEF2FF" CornerRadius="12" Padding="12,8" BorderThickness="0">
                        <TextBlock Text="ðŸ›ï¸ What services are available?" FontSize="13" Foreground="#4F46E5"/>
                    </Button>
                </StackPanel>

            </StackPanel>
        </ScrollViewer>

        <!-- INPUT AREA -->
        <Border Grid.Row="2" Background="White" Padding="16" CornerRadius="24,24,0,0">
            <Grid ColumnDefinitions="*,Auto" ColumnSpacing="12">
                <Border Background="#F3F4F6" CornerRadius="24" Padding="4">
                    <TextBox x:Name="MessageInput" 
                             PlaceholderText="Type your question..." 
                             Background="Transparent"
                             BorderThickness="0"
                             FontSize="15"
                             Padding="16,12"
                             KeyDown="MessageInput_KeyDown"/>
                </Border>
                <Button x:Name="SendButton" Click="Send_Click" Width="48" Height="48" CornerRadius="24" Background="#6366F1" BorderThickness="0">
                    <TextBlock Text="âž¤" FontSize="20" Foreground="White"/>
                </Button>
            </Grid>
        </Border>
    </Grid>
</Page>
