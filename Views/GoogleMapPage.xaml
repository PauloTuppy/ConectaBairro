<?xml version="1.0" encoding="utf-8"?>
<Page x:Class="ConectaBairro.Views.GoogleMapPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Background="#F0F4F8">

    <Grid RowDefinitions="Auto,*,Auto,Auto">
        
        <!-- HEADER -->
        <Border Grid.Row="0" Padding="16,40,16,16" CornerRadius="0,0,20,20">
            <Border.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                    <GradientStop Color="#10B981" Offset="0.0"/>
                    <GradientStop Color="#059669" Offset="1.0"/>
                </LinearGradientBrush>
            </Border.Background>
            <Grid ColumnDefinitions="Auto,*,Auto">
                <Button Grid.Column="0" Click="Back_Click" Background="Transparent" BorderThickness="0" Padding="8">
                    <TextBlock Text="â†" FontSize="24" Foreground="White"/>
                </Button>
                <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="12,0">
                    <TextBlock Text="ðŸ—ºï¸ Google Maps" FontSize="20" FontWeight="Bold" Foreground="White"/>
                    <TextBlock x:Name="LocationText" Text="Loading location..." FontSize="12" Foreground="#A7F3D0"/>
                </StackPanel>
                <Button Grid.Column="2" Click="Refresh_Click" Background="Transparent" BorderThickness="0" Padding="8">
                    <TextBlock Text="ðŸ”„" FontSize="20"/>
                </Button>
            </Grid>
        </Border>

        <!-- MAP WEBVIEW -->
        <Grid Grid.Row="1">
            <WebView2 x:Name="MapWebView" DefaultBackgroundColor="Transparent"/>
            
            <!-- Loading Overlay -->
            <Border x:Name="LoadingOverlay" Background="#80FFFFFF">
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Spacing="12">
                    <ProgressRing IsActive="True" Width="48" Height="48"/>
                    <TextBlock Text="Loading map..." FontSize="16" Foreground="#374151"/>
                </StackPanel>
            </Border>
        </Grid>

        <!-- FILTERS -->
        <Border Grid.Row="2" Background="White" Padding="12">
            <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Disabled">
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <Button x:Name="FilterAll" Click="FilterAll_Click" Content="ðŸ“ All" 
                            Background="#10B981" Foreground="White" CornerRadius="16" Padding="12,8"/>
                    <Button x:Name="FilterSaude" Click="FilterSaude_Click" Content="ðŸ¥ Health" 
                            Background="#F3F4F6" Foreground="#374151" CornerRadius="16" Padding="12,8"/>
                    <Button x:Name="FilterEducacao" Click="FilterEducacao_Click" Content="ðŸŽ“ Education" 
                            Background="#F3F4F6" Foreground="#374151" CornerRadius="16" Padding="12,8"/>
                    <Button x:Name="FilterSocial" Click="FilterSocial_Click" Content="ðŸ›ï¸ Social" 
                            Background="#F3F4F6" Foreground="#374151" CornerRadius="16" Padding="12,8"/>
                    <Button x:Name="FilterTrabalho" Click="FilterTrabalho_Click" Content="ðŸ’¼ Jobs" 
                            Background="#F3F4F6" Foreground="#374151" CornerRadius="16" Padding="12,8"/>
                </StackPanel>
            </ScrollViewer>
        </Border>

        <!-- QUICK ACTIONS -->
        <Border Grid.Row="3" Background="White" Padding="12,8,12,16" CornerRadius="20,20,0,0">
            <Grid ColumnDefinitions="*,*,*">
                <Button Grid.Column="0" Click="OpenGoogleMaps_Click" 
                        HorizontalAlignment="Stretch" Margin="4" Padding="12" 
                        CornerRadius="12" Background="#DBEAFE">
                    <StackPanel Spacing="4" HorizontalAlignment="Center">
                        <TextBlock Text="ðŸŒ" FontSize="24" HorizontalAlignment="Center"/>
                        <TextBlock Text="Open Maps" FontSize="11" Foreground="#1E40AF" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Button>
                <Button Grid.Column="1" Click="GetDirections_Click" 
                        HorizontalAlignment="Stretch" Margin="4" Padding="12" 
                        CornerRadius="12" Background="#D1FAE5">
                    <StackPanel Spacing="4" HorizontalAlignment="Center">
                        <TextBlock Text="ðŸ§­" FontSize="24" HorizontalAlignment="Center"/>
                        <TextBlock Text="Directions" FontSize="11" Foreground="#047857" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Button>
                <Button Grid.Column="2" Click="NearbyPlaces_Click" 
                        HorizontalAlignment="Stretch" Margin="4" Padding="12" 
                        CornerRadius="12" Background="#FEF3C7">
                    <StackPanel Spacing="4" HorizontalAlignment="Center">
                        <TextBlock Text="ðŸ“" FontSize="24" HorizontalAlignment="Center"/>
                        <TextBlock Text="Nearby" FontSize="11" Foreground="#92400E" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Button>
            </Grid>
        </Border>
    </Grid>
</Page>
